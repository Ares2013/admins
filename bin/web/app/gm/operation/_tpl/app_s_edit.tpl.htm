<?php $this->setLayout('amazeui_edit');?>

<?php $this->block('title');?>添加开服信息<?php $this->endBlock('title');?>

<?php $this->block('content');?>
<form method="post" class="am-form am-form-horizontal">
    <input type="hidden" name="data[id]" value="<?php echo $data['id']?>" >
   
             <div class="am-g am-margin-vertical-sm">
                <label for="name" class="am-u-sm-2 am-form-label">平台</label>
              <div class="am-u-sm-12 am-u-md-3 am-u-end">
                    <?php //echo Game::platformsForm($platformid);?>
                   <?php echo $pid_select;?>  
              </div>
              </div>
   
             <div class="am-g am-margin-vertical-sm">
              <div class="am-form-group">
                <label for="name1" class="am-u-sm-2 am-form-label">编号</label>
                <div class="am-u-md-3 am-u-end">
                  <input id="name1" type="text" name="server_no" value="" placeholder="在平台方的游戏分区编号" required />
                </div>
              </div>
          </div>
   
         <div class="am-g am-margin-vertical-sm">
              <div class="am-form-group">
                <label for="name2" class="am-u-sm-2 am-form-label">服务器ID</label>
                <div class="am-u-md-3 am-u-end">
                  <input id="name2" type="text" name="server_id" value="" placeholder="在游戏内部的分区ID，可为空，默认和编号相同"/>
                </div>
              </div>
          </div>
   
       <div class="am-g am-margin-vertical-sm">
              <div class="am-form-group">
                <label for="name3" class="am-u-sm-2 am-form-label">服务器名字</label>
                <div class="am-u-md-3 am-u-end">
                  <input id="name3" type="text" name="server_name" value="" placeholder="仅供后台显示使用的名字，可为空"/>
                </div>
              </div>
       </div>

          <div class="am-g am-margin-vertical-sm">
              <div class="am-form-group">
                <label for="date-start" class="am-u-sm-2 am-form-label">开服时间</label>
                <div class="am-u-md-3 am-u-end">
                    <div class="am-form-icon">
                  <i id="date-start-icon" class="am-icon-calendar"></i>
                  <input id="date-start" class="am-form-field am-input-sm" type="text" name="open_time" value="" required pattern="\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}"/>
                </div>
                </div>
              </div>
          </div>
          
            <div class="am-g am-margin-vertical-sm">
              <div class="am-form-group">
                <label for="name5" class="am-u-sm-2 am-form-label">备注</label>
                <div class="am-u-md-3 am-u-end">
                  <input id="name5" type="text" name="note" value=""  />
                </div>
              </div>
          </div>
          

          <div class="am-g am-margin-vertical-sm">
              <div class="am-form-group">
                <label class="am-u-sm-2 am-form-label"></label>
                <div class="am-u-sm-10">
                    <input type="submit" name="submit" class="am-btn am-btn-primary" value="提交"  />
                    <input type="button" class="am-btn" value="返回" onclick="location.replace('<?php echo $goback?>');" />
                </div>
              </div>
          </div>

</form>


<script>

$(function() {

    var startDate = new Date(2000, 1, 1);
    var endDate = new Date(2099, 11, 25);
    var $alert = $('#my-alert');
//datepicker()是前端框架内置的一个日期插件
    $('#date-start-icon').datepicker().
        on('changeDate.datepicker.amui', function(event) {
                if (event.date.valueOf() > endDate.valueOf()) {
                $alert.find('p').text('开始日期应小于结束日期！').end().show();
                } else {
                $alert.hide();
                startDate = new Date(event.date);
                $('#date-start').val($('#date-start-icon').data('date') + ' 00:00:00');
                }
                $(this).datepicker('close');
                });

    $('#date-end-icon').datepicker().
        on('changeDate.datepicker.amui', function(event) {
                if (event.date.valueOf() < startDate.valueOf()) {
                $alert.find('p').text('结束日期应大于开始日期！').end().show();
                } else {
                $alert.hide();
                endDate = new Date(event.date);
                $('#date-end').val($('#date-end-icon').data('date') + ' 23:59:59');
                }
                $(this).datepicker('close');
                });



});
</script>     
<?php $this->endBlock('content');?>
