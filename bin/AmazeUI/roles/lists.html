{{template "header.html" .}}

{{template "sidebar.html" .}}
<div class="admin-content" id="edit_pane">
  <!--<div class="admin-content-body">-->
  <div class="am-cf am-padding am-padding-bottom-0">
    <div class="am-fl am-cf"><strong class="am-text-primary am-text-lg">编辑玩家数据</strong> / <small>Table</small></div>
  </div>
  <hr>

  <div class="am-g">
    <div class="am-u-md-6">
      <form  class="am-form am-form-horizontal">

        <div class="am-form-group am-margin-vertical-sm">
          <label for="Userid" class="am-u-sm-2 am-form-label">帐号ID</label>
          <div class="am-u-sm-10">
            <input id="Userid" type="text" readonly = "readonly" name="Userid" value=""  />
          </div>
        </div>
        <div class="am-form-group am-margin-vertical-sm">
          <label for="Phone" class="am-u-sm-2 am-form-label">手机号</label>
          <div class="am-u-sm-10">
            <input id="Phone" type="text" name="Phone"  readonly = "readonly"  value="" />
          </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
          <label for="Nickname" class="am-u-sm-2 am-form-label">玩家昵称</label>
          <div class="am-u-sm-10">
            <input id="Nickname" type="text" name="Nickname" value="" />
          </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
          <label for="Coin" class="am-u-sm-2 am-form-label">金币</label>
          <div class="am-u-sm-10">
            <input id="Coin" type="text" name="Coin" value="" />
          </div>
        </div>
        <div class="am-form-group am-margin-vertical-sm">
          <label for="Diamond" class="am-u-sm-2 am-form-label">钻石</label>
          <div class="am-u-sm-10">
            <input id="Diamond" type="text" name="Diamond" value="" />
          </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
          <label for="vip" class="am-u-sm-2 am-form-label">VIP</label>
          <div class="am-u-sm-10">
            <input id="Vip" type="text" name="Vip" value="" />
          </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
          <label for="Exp" class="am-u-sm-2 am-form-label">经验</label>
          <div class="am-u-sm-10">
            <input id="Exp" type="text" name="Exp" value="" />
          </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
          <label for="Ticket" class="am-u-sm-2 am-form-label">入场券</label>
          <div class="am-u-sm-10">
            <input id="Ticket" type="text" name="Ticket" value="" />
          </div>
        </div>
        <div class="am-form-group am-margin-vertical-sm">
          <label for="Exchange" class="am-u-sm-2 am-form-label">兑换券</label>
          <div class="am-u-sm-10">
            <input id="Exchange" type="text" name="Exchange" value="" />
          </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
          <label for="Win" class="am-u-sm-2 am-form-label">胜局</label>
          <div class="am-u-sm-10">
            <input id="Win" type="text" name="Win" value="" />
          </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
          <label for="Lost" class="am-u-sm-2 am-form-label">败局</label>
          <div class="am-u-sm-10">
            <input id="Lost" type="text" name="Lost" value="" />
          </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
          <label for="Ping" class="am-u-sm-2 am-form-label">平局</label>
          <div class="am-u-sm-10">
            <input id="Ping" type="text" name="Ping" value="" />
          </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
          <label for="Photo"  class="am-u-sm-2 am-form-label">头像</label>
          <div class="am-u-sm-10">
            <input id="Photo" type="text" name="Photo" readonly = "readonly"  value="" />
          </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
          <label for="password" class="am-u-sm-2 am-form-label">密码</label>
          <div class="am-u-sm-10">
            <input id="password" type="text" name="Password" value="" placeholder="此项留空表示不修改密码！"/>
            <!-- <small>此项留空表示不修改密码！</small>-->
          </div>
        </div>




        <div class="am-form-group am-margin-vertical-sm">
          <label for="password1" class="am-u-sm-2 am-form-label">确认密码</label>
          <div class="am-u-sm-10">
            <input id="password1" type="text" name="Password1" value="" />
          </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
          <label  class="am-u-sm-2 am-form-label">注册时间</label>
          <div class="am-u-sm-10">
            <input id="Create_time" type="text" name="" value="" disabled/>
          </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
          <label  class="am-u-sm-2 am-form-label">注册IP地址</label>
          <div class="am-u-sm-10">
            <input id="Create_ip" type="text" name="" value="" disabled/>
          </div>
        </div>

        <div class="am-g am-margin-vertical-sm">
          <div   class="am-form-group">
            <label class="am-u-sm-2 am-form-label"></label>
            <div class="am-u-sm-10">
              <input type="button" name="send" id="send" class="am-btn am-btn-primary" value="提交"  onclick="javascript:button_onSave();"/>
              <input type="button" class="am-btn" value="返回"  onclick="javascript:button_onback();" />
              <!--    <input type="button" class="am-btn" value="返回" onclick="location.replace({{ .goback }});" />-->

            </div>
          </div>
        </div>

        <hr />
      </form>
    </div>

  </div>
</div>



  <!-- content start -->
  <div class="admin-content">
    <div class="admin-content-body">
      <div class="am-cf am-padding am-padding-bottom-0">
        <div class="am-fl am-cf"><strong class="am-text-primary am-text-lg">玩家数据</strong> / <small>玩家列表</small></div>
      </div>

      <hr>

      <form action="/roles/list" class="am-form" data-am-validator >
      <div class="am-g">
		{{template "select.html" .}}
      <div class="am-u-sm-12 am-u-md-12 am-u-lg-3">
            <input type="text" name="start_id" value="{{ .start_id }}" class="am-form-field am-input-sm" placeholder="起始玩家ID" />
      </div>
      <div class="am-u-sm-12 am-u-md-12 am-u-lg-3">
            <input type="text" name="end_id" value="{{ .end_id }}" class="am-form-field am-input-sm" placeholder="结束玩家ID" />
      </div>

        <div class="am-u-sm-12 am-u-md-12 am-u-lg-3">
          <input type="text" name="phone" value="{{ .phone }}" class="am-form-field am-input-sm" placeholder="电话号码" />
        </div>
      <div class="am-u-sm-12 am-u-md-2 am-u-end">
            <button class="am-btn am-btn-default am-input-sm" type="submit">搜索</button>
      </div>

      <div class="am-g">
        <div class="am-u-sm-12">
          <!--<form class="am-form">-->
            <table class="am-table am-table-striped am-table-hover table-main">

              <thead>
              <tr>
                <th class="am-text-nowrap am-hide-sm-only table-id">玩家ID</th>
                <th class="am-text-nowrap table-title">昵称</th>
                <th class="am-text-nowrap table-title">性别</th>
                <th class="am-text-nowrap table-title">电话</th>
                <th class="am-text-nowrap table-type">金币</th>
                <th class="am-text-nowrap table-type">钻石</th>
                <th class="am-text-nowrap table-type">VIP</th>
                <th class="am-text-nowrap table-type">胜局</th>
                <th class="am-text-nowrap table-type">败局</th>
                <th class="am-text-nowrap table-type">平局</th>
                <th class="am-text-nowrap table-type">经验</th>
                <th class="am-text-nowrap table-type">入场券</th>
                <th class="am-text-nowrap table-type">兑换券</th>

            <!--    <th class="am-text-nowrap table-author am-hide-sm-only">注册IP</th>
                <th class="am-text-nowrap table-date am-hide-sm-only">注册时间</th>-->
				<th class="am-text-nowrap table-date am-hide-sm-only">操作</th>
			
              </tr>
              </thead>

              <tbody>

	              {{ range $element := .users }}
              <tr>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Userid }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Nickname }}</td>

                {{ $sex := $element.Sex }}
                {{ if  eq $sex 1 }}
                <td class="am-text-middle am-hide-sm-only">男</td>
                {{ else }}
                <td class="am-text-middle am-hide-sm-only">女</td>
                {{ end }}

                <td class="am-text-middle am-hide-sm-only">{{ $element.PhoneN }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Coin }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Diamond }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Vip }}</td>

                <td class="am-text-middle am-hide-sm-only">{{ $element.Win }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Lost }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Ping }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Exp }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Ticket }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Exchange }}</td>

            <!--    <td class="am-text-middle am-hide-sm-only">{{ $element.Create_ip }}</td>
                <td class="am-text-middle am-hide-sm-only">{{ $element.Create_time }}</td>-->

				 <td>
                  <div class="am-btn-toolbar">
                    <div class="am-btn-group am-btn-group-xs">
                  <!--   <a class="am-btn am-btn-default am-btn-xs am-text-secondary"  data-am-modal="{target: '#my-popups'}"> <span class="am-icon-pencil-square-o"></span>编辑</a>-->
                      <!--<button class="am-btn am-btn-default am-input-sm" onclick="location.replace('?mod=users&act=group_edit');" type="button">编辑</button>-->
                     <!-- <button class="am-btn am-btn-default am-input-sm" onclick="location.replace('/roles/edituser?userid={{ $element.Userid }}');" type="button">编辑</button>-->
                      <button class="am-btn am-btn-default am-input-sm"  onclick="javascript:button_onedit({{ $element.Userid }},{{ $element.Nickname }},
                      {{ $element.Ping }},{{ $element.Win }},{{ $element.Lost }},{{ $element.Vip }},{{ $element.Ticket }},{{ $element.Exp }},
                      {{ $element.Exchange }},{{ $element.Sex }},{{ $element.PhoneN }},{{ $element.Diamond }},{{ $element.Coin }},{{ $element.Create_ip }},{{ $element.Create_time }}
                      );" type="button">编辑</button>

                    </div>
                  </div>
                </td>
              </tr>
              {{ end }}

              </tbody>
            </table>
				{{template "pager.html" .}}
            <hr />
          </form>
    </div>
  </div>

<!--<script> $("#edit_pane").hide(); $("#edit_pane").css("display", "none");  </script>-->
{{template "footer.html" .}}

<script type="text/javascript">
  function button_onedit(userid ,nickname,ping,win,lost,vip,ticket,exp,exchange,sex,phone,diamond,coin,create_ip,create_time){
    //这里写你要执行的语句
    $("#Nickname").val(nickname);
    $("#Userid").val(userid);
    $("#Diamond").val(diamond);
    $("#Coin").val(coin);
    $("#Exp").val(exp);
    $("#Exchange").val(exchange);
    $("#Vip").val(userid);
    $("#Ticket").val(ticket);
    $("#Ping").val(ping);
    $("#Win").val(win);

    $("#Lost").val(lost);
    $("#Phone").val(phone);
    $("#Create_ip").val(create_ip);
    $("#Create_time").val(create_time);
  // alertMsg(nickname)
    $("#edit_pane").show();
  }


  function button_onSave(){
    //这里写你要执行的语句


    $.ajax({
      type: "POST",
      url: "/roles/edit",
      data: {Vip:$("#Vip").val(),
        Userid:$("#Userid").val(),
        Lost:$("#Lost").val(),
        Win:$("#Win").val(),
        Ping:$("#Ping").val(),
        Ticket:$("#Ticket").val(),
        Exchange:$("#Exchange").val(),
        Exp:$("#Exp").val(),
        Coin:$("#Coin").val(),
        Diamond:$("#Diamond").val(),
        Nickname:$("#Nickname").val(),
        Phone:$("#Phone").val(),
        Userid:$("#Userid").val()
      },

      dataType: "json",
      success: function(data){
        if( data["status"] == "ok"){
          $("#edit_pane").hide();
         // window.location.href="/roles/list";
          alertMsg(data["msg"], 0)
          window.location.reload()
        }else{
          alertMsg(data["msg"], 0)
          $("#edit_pane").hide();
        }
      }
    });


  }


  function button_onback(){
    //这里写你要执行的语句
    $("#edit_pane").hide();
  }

  $(document).ready(function(){
    $("#edit_pane").hide();

    // $("#button").click(function(){ $("#edit_pane").show();;});
  });

</script>
