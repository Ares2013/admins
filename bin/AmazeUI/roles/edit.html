{{template "header.html" .}}

{{template "sidebar.html" .}}

<!-- content start -->
<div class="admin-content">
  <!--<div class="admin-content-body">-->
    <div class="am-cf am-padding am-padding-bottom-0">
      <div class="am-fl am-cf"><strong class="am-text-primary am-text-lg">编辑玩家数据</strong> / <small>Table</small></div>
    </div>

    <hr>

    <div class="am-g">
      <div class="am-u-md-6">
    <form  class="am-form am-form-horizontal">

      <div class="am-form-group am-margin-vertical-sm">
        <label for="Userid" class="am-u-sm-2 am-form-label">帐号ID</label>
        <div class="am-u-sm-10">
          <input id="Userid" type="text" readonly = "readonly" name="Userid" value="{{ .user.Userid }}"  />
        </div>
      </div>
      <div class="am-form-group am-margin-vertical-sm">
        <label for="Phone" class="am-u-sm-2 am-form-label">手机号</label>
        <div class="am-u-sm-10">
          <input id="Phone" type="text" name="Phone"  readonly = "readonly"  value="{{ .user.PhoneN }}" />
        </div>
      </div>

      <div class="am-form-group am-margin-vertical-sm">
        <label for="Nickname" class="am-u-sm-2 am-form-label">玩家昵称</label>
        <div class="am-u-sm-10">
          <input id="Nickname" type="text" name="Nickname" value="{{ .user.Nickname }}" />
        </div>
      </div>


      <div class="am-form-group am-margin-vertical-sm">
        <label for="Coin" class="am-u-sm-2 am-form-label">金币</label>
        <div class="am-u-sm-10">
          <input id="Coin" type="text" name="Coin" value="{{ .user.Coin }}" />
        </div>
      </div>
      <div class="am-form-group am-margin-vertical-sm">
        <label for="Diamond" class="am-u-sm-2 am-form-label">钻石</label>
        <div class="am-u-sm-10">
          <input id="Diamond" type="text" name="Diamond" value="{{ .user.Diamond }}" />
        </div>
      </div>

    <div class="am-form-group am-margin-vertical-sm">
      <label for="vip" class="am-u-sm-2 am-form-label">VIP</label>
      <div class="am-u-sm-10">
        <input id="Vip" type="text" name="Vip" value="{{ .user.Vip }}" />
      </div>
    </div>

        <div class="am-form-group am-margin-vertical-sm">
            <label for="Exp" class="am-u-sm-2 am-form-label">经验</label>
            <div class="am-u-sm-10">
                <input id="Exp" type="text" name="Exp" value="{{ .user.Exp }}" />
            </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
            <label for="Ticket" class="am-u-sm-2 am-form-label">入场券</label>
            <div class="am-u-sm-10">
                <input id="Ticket" type="text" name="Ticket" value="{{ .user.Ticket }}" />
            </div>
        </div>
        <div class="am-form-group am-margin-vertical-sm">
            <label for="Exchange" class="am-u-sm-2 am-form-label">兑换券</label>
            <div class="am-u-sm-10">
                <input id="Exchange" type="text" name="Exchange" value="{{ .user.Exchange }}" />
            </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
            <label for="Win" class="am-u-sm-2 am-form-label">胜局</label>
            <div class="am-u-sm-10">
                <input id="Win" type="text" name="Win" value="{{ .user.Win }}" />
            </div>
        </div>


        <div class="am-form-group am-margin-vertical-sm">
            <label for="Lost" class="am-u-sm-2 am-form-label">败局</label>
            <div class="am-u-sm-10">
                <input id="Lost" type="text" name="Lost" value="{{ .user.Lost }}" />
            </div>
        </div>

        <div class="am-form-group am-margin-vertical-sm">
            <label for="Ping" class="am-u-sm-2 am-form-label">平局</label>
            <div class="am-u-sm-10">
                <input id="Ping" type="text" name="Ping" value="{{ .user.Ping }}" />
            </div>
        </div>


      <div class="am-form-group">
        <label class="am-u-sm-2 am-form-label">性别</label>
          {{ $sex := .user.Sex }}
          {{ if  eq $sex 1 }}
          <label class="am-radio-inline">
              <input type="radio" name="Sex"  value="1"  checked  required> 男
          </label>
          <label class="am-radio-inline">
              <input type="radio" name="Sex" value="2" > 女
          </label>
          {{ else }}
          <label class="am-radio-inline">
              <input type="radio"  value="1"  name="Sex" > 男
          </label>
          <label class="am-radio-inline">
              <input type="radio"  name="Sex" value="2" checked  required >女
          </label>
          {{ end }}
      </div>

        <div class="am-form-group am-margin-vertical-sm">
            <label for="Photo"  class="am-u-sm-2 am-form-label">头像</label>
            <div class="am-u-sm-10">
                <input id="Photo" type="text" name="Photo" readonly = "readonly"  value="{{ .user.Photo }}" />
            </div>
        </div>

      <div class="am-form-group am-margin-vertical-sm">
        <label for="password" class="am-u-sm-2 am-form-label">密码</label>
        <div class="am-u-sm-10">
          <input id="password" type="text" name="Password" value="" placeholder="此项留空表示不修改密码！"/>
         <!-- <small>此项留空表示不修改密码！</small>-->
        </div>
      </div>




  <div class="am-form-group am-margin-vertical-sm">
        <label for="password1" class="am-u-sm-2 am-form-label">确认密码</label>
        <div class="am-u-sm-10">
          <input id="password1" type="text" name="Password1" value="" />
        </div>
      </div>

      <div class="am-form-group am-margin-vertical-sm">
        <label for="Time" class="am-u-sm-2 am-form-label">注册时间</label>
        <div class="am-u-sm-10">
          <input id="Time" type="text" name="" value="{{ .user.Create_time }}" disabled/>
        </div>
      </div>

      <div class="am-form-group am-margin-vertical-sm">
        <label for="IP" class="am-u-sm-2 am-form-label">注册IP地址</label>
        <div class="am-u-sm-10">
          <input id="IP" type="text" name="" value="{{ .user.Create_ip }}" disabled/>
        </div>
      </div>

      <div class="am-g am-margin-vertical-sm">
        <div   class="am-form-group">
          <label class="am-u-sm-2 am-form-label"></label>
          <div class="am-u-sm-10">
            <input type="button" name="send" id="send" class="am-btn am-btn-primary" value="提交" />
           <input type="button" class="am-btn" value="返回" onclick="location.replace('/roles/list');" />
          <!--    <input type="button" class="am-btn" value="返回" onclick="location.replace({{ .goback }});" />-->

          </div>
        </div>
      </div>

      <hr />
    </form>
  </div>

</div>
</div>
</div>
</div>
<!-- content end -->

{{template "footer.html" .}}

<script>
    $(function(){
        $('#send').click(function(){
            var sex=null;
            var obj=document.getElementsByName("Sex")
            for (var i=0;i<obj.length;i++){ //遍历Radio
                if(obj[i].checked){
                    sex=obj[i].value;
                    break;
                }
            }


            //  alertMsg(chkObjs)
         //   return
            $.ajax({
                type: "POST",
                url: "/roles/edit",
                data: {Userid:$("#Userid").val(),
                    Nickname:$("#Nickname").val(),
                        Diamond:$("#Diamond").val(),
                    Coin:$("#Coin").val(),
                Phone:$("#Phone").val(),
            Vip:$("#Vip").val(),
    Ticket:$("#Ticket").val(),
    Exchange:$("#Exchange").val(),
    Exp:$("#Exp").val(),
    Sex:sex,

    Photo:$("#Photo").val(),
                    Win:$("#Win").val(),
                    Lost:$("#Lost").val(),
                    Ping:$("#Ping").val(),
                    password:$("#password").val(),
                    password1:$("#password1").val()},
                dataType: "json",
                success: function(data){
                    if( data["status"] == "ok"){
                        alertMsg(data["msg"], 0)
                        window.location.href="/roles/list";
                    }else{
                        alertMsg(data["msg"], 0)
                    }
                }
            });
        });
    });
</script>
